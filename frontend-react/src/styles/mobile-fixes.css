/* mobile-fixes.css - Corre√ß√µes para dispositivos ‚â§375px */

/* ===================================
   üîß BREAKPOINTS E VARI√ÅVEIS MOBILE
   =================================== */

:root {
  --mobile-xs: 375px;
  --mobile-xxs: 320px;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 1rem;
  --font-xs: 0.75rem;
  --font-sm: 0.875rem;
}

/* ===================================
   üì± LAYOUT GLOBAL MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Padding geral reduzido */
  .container,
  .max-w-7xl {
    padding-left: var(--spacing-sm) !important;
    padding-right: var(--spacing-sm) !important;
  }

  /* T√≠tulos responsivos */
  h1 {
    font-size: 1.25rem !important;
    line-height: 1.3 !important;
  }

  h2 {
    font-size: 1.125rem !important;
    line-height: 1.3 !important;
  }

  h3 {
    font-size: 1rem !important;
    line-height: 1.3 !important;
  }

  /* Bot√µes menores */
  .btn,
  button {
    font-size: var(--font-sm) !important;
    padding: 0.5rem 0.75rem !important;
  }

  /* Grid responsivo */
  .grid {
    gap: var(--spacing-sm) !important;
  }

  .grid-cols-2 {
    grid-template-columns: 1fr !important;
  }

  .grid-cols-3,
  .grid-cols-4 {
    grid-template-columns: 1fr 1fr !important;
  }
}

/* ===================================
   üîê LOGIN PAGE MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Hero section oculta */
  .lg\\:w-1\\/2 {
    display: none !important;
  }

  /* Container de login */
  .w-full.lg\\:w-1\\/2 {
    width: 100% !important;
    padding: var(--spacing-md) !important;
  }

  /* Cards de persona */
  .border-2.rounded-xl {
    padding: var(--spacing-md) !important;
    margin-bottom: var(--spacing-sm) !important;
  }

  /* Formul√°rio de login */
  .space-y-6 > div {
    margin-bottom: var(--spacing-md) !important;
  }

  /* Inputs */
  input[type="email"],
  input[type="password"],
  select {
    font-size: 16px !important; /* Evita zoom no iOS */
    padding: 0.75rem !important;
  }

  /* Bot√£o de login */
  button[type="submit"] {
    padding: 0.875rem !important;
    font-size: var(--font-sm) !important;
  }

  /* Logo mobile */
  .lg\\:hidden h1 {
    font-size: 1.5rem !important;
  }
}

/* ===================================
   üìã PRODUCT MANAGER MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Header do ProductManager */
  .ProductManager-header .flex {
    flex-direction: column !important;
    gap: var(--spacing-md) !important;
    align-items: stretch !important;
  }

  .ProductManager-header h1 {
    font-size: 1.25rem !important;
    margin-bottom: var(--spacing-sm) !important;
  }

  /* Stats cards */
  .grid-cols-1.md\\:grid-cols-4 {
    grid-template-columns: 1fr 1fr !important;
    gap: var(--spacing-sm) !important;
  }

  .stats-card {
    padding: var(--spacing-md) !important;
  }

  .stats-card h8 {
    width: 1.5rem !important;
    height: 1.5rem !important;
  }

  .stats-card p {
    font-size: var(--font-xs) !important;
  }

  .stats-card .text-2xl {
    font-size: 1.25rem !important;
  }

  /* Filtros */
  .filters-container .flex {
    flex-direction: column !important;
    gap: var(--spacing-sm) !important;
  }

  .filters-container input,
  .filters-container select {
    font-size: 16px !important;
    padding: 0.75rem !important;
  }

  /* Tabela ‚Üí Cards em mobile */
  .products-table table {
    display: none !important;
  }

  .products-mobile-cards {
    display: block !important;
  }

  .product-mobile-card {
    background: white;
    border-radius: 0.5rem;
    padding: var(--spacing-md);
    margin-bottom: var(--spacing-sm);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .product-mobile-card .flex {
    align-items: flex-start !important;
  }

  .product-mobile-card img {
    width: 3rem !important;
    height: 3rem !important;
    border-radius: 0.375rem !important;
  }

  .product-mobile-card .product-info {
    flex: 1;
    margin-left: var(--spacing-sm);
  }

  .product-mobile-card .product-name {
    font-size: var(--font-sm) !important;
    font-weight: 600;
    margin-bottom: 0.25rem;
  }

  .product-mobile-card .product-meta {
    font-size: var(--font-xs) !important;
    color: #6b7280;
    margin-bottom: 0.5rem;
  }

  .product-mobile-card .product-actions {
    display: flex;
    gap: var(--spacing-sm);
    margin-top: var(--spacing-sm);
  }

  .product-mobile-card .product-actions button {
    padding: 0.375rem !important;
    font-size: var(--font-xs) !important;
  }
}

/* ===================================
   üìä DASHBOARD MOBILE
   =================================== */

@media (max-width: 375px) {
  /* View tabs */
  .dashboard-tabs .grid {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.25rem !important;
  }

  .dashboard-tab {
    padding: 0.5rem 0.25rem !important;
    font-size: var(--font-xs) !important;
    text-align: center !important;
  }

  .dashboard-tab .lucide {
    width: 1rem !important;
    height: 1rem !important;
    margin-bottom: 0.25rem !important;
  }

  /* Metric cards */
  .metric-cards .grid {
    grid-template-columns: 1fr 1fr !important;
    gap: var(--spacing-sm) !important;
  }

  .metric-card {
    padding: var(--spacing-md) !important;
  }

  .metric-card .flex .lucide {
    width: 1.5rem !important;
    height: 1.5rem !important;
  }

  .metric-card .text-2xl {
    font-size: 1.125rem !important;
  }

  .metric-card p {
    font-size: var(--font-xs) !important;
  }

  /* Charts container */
  .charts-container {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .chart-wrapper {
    min-width: 280px !important;
  }
}

/* ===================================
   üóÇÔ∏è MODAL MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Modal container - Z-index alto e padding adequado */
  .modal-overlay,
  .fixed.inset-0.bg-black.bg-opacity-50 {
    z-index: 9999 !important;
    padding: var(--spacing-sm) !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .modal-content,
  .bg-white.rounded-lg.max-w-2xl {
    max-height: 90vh !important;
    max-width: calc(100vw - 2rem) !important;
    width: 100% !important;
    overflow-y: auto !important;
    margin: 0 !important;
    border-radius: 0.75rem !important;
    position: relative !important;
  }

  /* Modal header - Bot√£o X melhorado */
  .modal-header,
  .flex.items-center.justify-between.p-6.border-b {
    padding: var(--spacing-md) !important;
    border-bottom: 1px solid #e5e7eb;
    position: relative !important;
  }

  .modal-header h3,
  .text-lg.font-medium {
    font-size: 1rem !important;
    padding-right: 2.5rem !important; /* Espa√ßo para o bot√£o X */
  }

  /* Bot√£o X - Melhor posicionamento e √°rea de toque */
  .modal-header button,
  .text-gray-400.hover\\:text-gray-600,
  button[aria-label*="fechar" i],
  button[title*="fechar" i] {
    position: absolute !important;
    right: var(--spacing-md) !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
    padding: 0.5rem !important;
    min-width: 2.5rem !important;
    min-height: 2.5rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    border-radius: 0.5rem !important;
    background: transparent !important;
    transition: all 0.2s ease !important;
    z-index: 10 !important;
  }

  .modal-header button:hover,
  .text-gray-400.hover\\:text-gray-600:hover {
    background: #f3f4f6 !important;
    color: #374151 !important;
  }

  .modal-header button:active {
    background: #e5e7eb !important;
    transform: translateY(-50%) scale(0.95) !important;
  }

  /* Modal body */
  .modal-body {
    padding: var(--spacing-md) !important;
  }

  .modal-body .grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-md) !important;
  }

  .modal-body input,
  .modal-body select,
  .modal-body textarea {
    font-size: 16px !important; /* Evita zoom no iOS */
    padding: 0.75rem !important;
  }

  /* Modal footer - Bot√µes empilhados em mobile */
  .modal-footer,
  .flex.items-center.justify-end.space-x-4.pt-6.border-t {
    padding: var(--spacing-md) !important;
    border-top: 1px solid #e5e7eb;
    flex-direction: column-reverse !important;
    gap: var(--spacing-sm) !important;
    align-items: stretch !important;
  }

  .modal-footer button,
  .modal-footer .px-4.py-2 {
    width: 100% !important;
    justify-content: center !important;
    min-height: 2.75rem !important;
    font-size: 1rem !important;
    margin: 0 !important;
  }

  /* Bot√£o prim√°rio (submit) mais destacado */
  .modal-footer button[type="submit"],
  .modal-footer .bg-blue-600,
  .modal-footer .bg-green-600 {
    order: 1 !important;
    margin-bottom: var(--spacing-sm) !important;
  }

  /* Bot√£o secund√°rio (cancelar) */
  .modal-footer button[type="button"],
  .modal-footer .bg-white {
    order: 2 !important;
  }
}

/* ===================================
   üß≠ NAVIGATION MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Mobile menu */
  .mobile-menu {
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;
    right: 0 !important;
    background: white !important;
    border-top: 1px solid #e5e7eb !important;
    padding: var(--spacing-sm) !important;
    z-index: 50 !important;
  }

  .mobile-menu .flex {
    justify-content: space-around !important;
  }

  .mobile-menu button {
    flex-direction: column !important;
    align-items: center !important;
    padding: var(--spacing-sm) !important;
    font-size: var(--font-xs) !important;
    gap: 0.25rem !important;
  }

  .mobile-menu .lucide {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }

  /* Ajustar body para menu fixo */
  body {
    padding-bottom: 4rem !important;
  }

  /* Header desktop oculto */
  .desktop-header {
    display: none !important;
  }
}

/* ===================================
   üìù FORMS MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Form groups */
  .form-group {
    margin-bottom: var(--spacing-md) !important;
  }

  .form-group label {
    font-size: var(--font-sm) !important;
    margin-bottom: var(--spacing-sm) !important;
  }

  /* Input focus melhorado */
  input:focus,
  select:focus,
  textarea:focus {
    outline: none !important;
    ring: 2px solid #3b82f6 !important;
    border-color: #3b82f6 !important;
  }

  /* Checkbox e radio */
  input[type="checkbox"],
  input[type="radio"] {
    width: 1.125rem !important;
    height: 1.125rem !important;
  }

  /* File inputs */
  input[type="file"] {
    padding: var(--spacing-sm) !important;
    border: 2px dashed #d1d5db !important;
    border-radius: 0.5rem !important;
  }
}

/* ===================================
   üîç SEARCH MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Search bar */
  .search-container {
    position: sticky !important;
    top: 0 !important;
    background: white !important;
    z-index: 40 !important;
    padding: var(--spacing-sm) !important;
    border-bottom: 1px solid #e5e7eb !important;
  }

  .search-input {
    font-size: 16px !important; /* Evita zoom no iOS */
    padding: 0.75rem 2.5rem 0.75rem 0.75rem !important;
  }

  /* Search results */
  .search-results {
    padding: var(--spacing-sm) !important;
  }

  .search-result-item {
    padding: var(--spacing-md) !important;
    border-radius: 0.5rem !important;
    margin-bottom: var(--spacing-sm) !important;
  }

  /* Product grid ‚Üí single column */
  .products-grid {
    grid-template-columns: 1fr !important;
    gap: var(--spacing-sm) !important;
  }
}

/* ===================================
   üé® LOADING STATES MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Loading spinners */
  .loading-spinner {
    width: 1.5rem !important;
    height: 1.5rem !important;
  }

  /* Loading overlays */
  .loading-overlay {
    backdrop-filter: blur(2px) !important;
  }

  .loading-content {
    padding: var(--spacing-md) !important;
    border-radius: 0.75rem !important;
    max-width: 280px !important;
  }

  /* Skeleton loading */
  .skeleton {
    border-radius: 0.375rem !important;
    background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%) !important;
    background-size: 200% 100% !important;
    animation: loading 1.5s infinite !important;
  }
}

/* Animation for skeleton loading */
@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* ===================================
   üö® ERROR STATES MOBILE
   =================================== */

@media (max-width: 375px) {
  .error-message {
    padding: var(--spacing-md) !important;
    border-radius: 0.5rem !important;
    font-size: var(--font-sm) !important;
  }

  .error-icon {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }
}

/* ===================================
   ‚ú® TOAST MOBILE
   =================================== */

@media (max-width: 375px) {
  .toast {
    bottom: 5rem !important; /* Acima da navega√ß√£o */
    left: var(--spacing-sm) !important;
    right: var(--spacing-sm) !important;
    width: auto !important;
    border-radius: 0.5rem !important;
    padding: var(--spacing-md) !important;
    font-size: var(--font-sm) !important;
  }

  .toast .lucide {
    width: 1rem !important;
    height: 1rem !important;
  }
}

/* ===================================
   üéØ UTILITIES MOBILE
   =================================== */

@media (max-width: 375px) {
  /* Text utilities */
  .text-xs { font-size: 0.625rem !important; }
  .text-sm { font-size: var(--font-xs) !important; }
  .text-base { font-size: var(--font-sm) !important; }
  
  /* Spacing utilities */
  .p-2 { padding: var(--spacing-sm) !important; }
  .p-4 { padding: var(--spacing-md) !important; }
  
  .m-2 { margin: var(--spacing-sm) !important; }
  .m-4 { margin: var(--spacing-md) !important; }
  
  .gap-2 { gap: var(--spacing-sm) !important; }
  .gap-4 { gap: var(--spacing-md) !important; }
  
  /* Hide on mobile */
  .hidden-mobile {
    display: none !important;
  }
  
  /* Show only on mobile */
  .mobile-only {
    display: block !important;
  }
}

/* ===================================
   üîß BROWSER SPECIFIC FIXES
   =================================== */

/* iOS Safari fixes */
@media (max-width: 375px) {
  /* Fix viewport height on iOS */
  .min-h-screen {
    min-height: 100vh !important;
    min-height: -webkit-fill-available !important;
  }

  /* Fix input zoom on iOS */
  input[type="search"] {
    -webkit-appearance: none !important;
  }

  /* Fix sticky positioning on iOS */
  .sticky {
    position: -webkit-sticky !important;
    position: sticky !important;
  }

  /* Fix touch scrolling */
  .overflow-auto,
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch !important;
  }
}

/* Android Chrome fixes */
@media (max-width: 375px) {
  /* Fix tap highlight */
  * {
    -webkit-tap-highlight-color: transparent !important;
  }

  /* Fix button appearance */
  button {
    -webkit-appearance: none !important;
    appearance: none !important;
  }
}